{% extends "auctions/layout.html" %}

{% block body %}
    
    <h2>Active Listings</h2>
    <div class="all-index-listings">
        {% for listing in listings %}
        {% if listing.active == True %}
            <div class="index-listing">                        
                <div class="listing-img">
                    <img src="{{ listing.image_url }}">
                </div>
                <div class="listing-info">
                    <div class="listing-title">
                        <h3><a href="{% url 'listing' listing.id %}">{{ listing.title }}</a></h3>
                    </div>        
                    <div class="listing-description">
                        <p>{{ listing.description|truncatechars:150 }}</p>
                    </div>
                    <div class="listing-current-bid">
                        <p>Current bid: {{ listing.current_bid }}</p>
                    </div>
                    <div class="listing-creation-date">
                        <p>Posted on: {{ listing.creation_date }}</p>
                    </div>
                </div>
            </div>          
        {% endif %}
    {% empty %}
        <p>No listings are available.</p>
    {% endfor %}
    </div>
    
{% endblock %}